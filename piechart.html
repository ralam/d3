<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Piechart</title>
    <link rel="stylesheet" type="text/css" href="styles.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>
  </head>
  <body>

    <script src='scripts/piechart.js'></script>
    <script src='scripts/chartDisplay.js'></script>
    <script type='text/javascript'>

      var dataset = [['cats', 30], ['dogs', 40], ['birds', 10]];
      var piechart = new Display.Piechart(dataset);
      $(document).ready(function(){

        var $form = $('form');
        $form.submit(function(e) {
          e.preventDefault();
          var data = $form.serializeArray();
          var parsedData = [];
          for(var i = 0; i < data.length; i++) {
            parsedData.push([data[i].name, 1 * data[i].value]);
          };
          piechart.rerender(parsedData);
        });
      });

    </script>
    <form>
      <label>
        Cats
        <input type='text' name='cats' value='30'>
      </label>
      <label>
        Dogs
        <input type='text' name='dogs' value='40'>
      </label>
      <label>
        Birds
        <input type='text' name='birds' value='10'>
      </label>
      <button type="submit">Submit</button>
    </form>
  </body>
</html>
